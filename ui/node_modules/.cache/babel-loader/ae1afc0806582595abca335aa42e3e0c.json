{"ast":null,"code":"import { ADD_TO_CART, REMOVE_FROM_CART } from './actions';\nimport { LOAD_PRODUCTS_SUCCESS } from 'modules/products/actions';\nconst initialState = {\n  price: 0,\n  productIds: []\n};\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case ADD_TO_CART:\n      {\n        const {\n          productId\n        } = action.payload;\n        if (state.productIds.includes(productId)) return state;\n        return { ...state,\n          productIds: [...state.productIds, productId]\n        };\n      }\n\n    case REMOVE_FROM_CART:\n      return { ...state,\n        productIds: state.productIds.filter(id => +id !== action.payload.productId)\n      };\n\n    case LOAD_PRODUCTS_SUCCESS:\n      {\n        let price = 0;\n\n        for (let product of action.payload.products) {\n          price += product.price;\n        }\n\n        return { ...state,\n          price\n        };\n      }\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/jittananjackthreemongkol/Downloads/react-fundamentals/ui/src/modules/cart/reducer.js"],"names":["ADD_TO_CART","REMOVE_FROM_CART","LOAD_PRODUCTS_SUCCESS","initialState","price","productIds","state","action","type","productId","payload","includes","filter","id","product","products"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,gBAAtB,QAA8C,WAA9C;AACA,SAASC,qBAAT,QAAsC,0BAAtC;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,KAAK,EAAE,CADY;AAEnBC,EAAAA,UAAU,EAAE;AAFO,CAArB;AAKA,eAAe,UAAUC,KAAK,GAAGH,YAAlB,EAAgCI,MAAhC,EAAwC;AACrD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKR,WAAL;AAAkB;AAChB,cAAM;AAAES,UAAAA;AAAF,YAAgBF,MAAM,CAACG,OAA7B;AAEA,YAAIJ,KAAK,CAACD,UAAN,CAAiBM,QAAjB,CAA0BF,SAA1B,CAAJ,EAA0C,OAAOH,KAAP;AAE1C,eAAO,EACL,GAAGA,KADE;AAELD,UAAAA,UAAU,EAAE,CAAC,GAAGC,KAAK,CAACD,UAAV,EAAsBI,SAAtB;AAFP,SAAP;AAID;;AACD,SAAKR,gBAAL;AACE,aAAO,EACL,GAAGK,KADE;AAELD,QAAAA,UAAU,EAAEC,KAAK,CAACD,UAAN,CAAiBO,MAAjB,CACTC,EAAD,IAAQ,CAACA,EAAD,KAAQN,MAAM,CAACG,OAAP,CAAeD,SADrB;AAFP,OAAP;;AAMF,SAAKP,qBAAL;AAA4B;AAC1B,YAAIE,KAAK,GAAG,CAAZ;;AAEA,aAAK,IAAIU,OAAT,IAAoBP,MAAM,CAACG,OAAP,CAAeK,QAAnC,EAA6C;AAC3CX,UAAAA,KAAK,IAAIU,OAAO,CAACV,KAAjB;AACD;;AAED,eAAO,EAAE,GAAGE,KAAL;AAAYF,UAAAA;AAAZ,SAAP;AACD;;AACD;AACE,aAAOE,KAAP;AA5BJ;AA8BD","sourcesContent":["import { ADD_TO_CART, REMOVE_FROM_CART } from './actions'\nimport { LOAD_PRODUCTS_SUCCESS } from 'modules/products/actions'\n\nconst initialState = {\n  price: 0,\n  productIds: [],\n}\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case ADD_TO_CART: {\n      const { productId } = action.payload\n\n      if (state.productIds.includes(productId)) return state\n\n      return {\n        ...state,\n        productIds: [...state.productIds, productId],\n      }\n    }\n    case REMOVE_FROM_CART:\n      return {\n        ...state,\n        productIds: state.productIds.filter(\n          (id) => +id !== action.payload.productId\n        ),\n      }\n    case LOAD_PRODUCTS_SUCCESS: {\n      let price = 0\n\n      for (let product of action.payload.products) {\n        price += product.price\n      }\n\n      return { ...state, price }\n    }\n    default:\n      return state\n  }\n}\n"]},"metadata":{},"sourceType":"module"}